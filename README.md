# ec2 + autoscaling + cludwatch
Terraform stack which include ec2 with autoscaling group and explecility attach alarm to instance generated by autoscaling group.
- autoscaling group
- cloudwatch alarm 
- ec2
## configure aws cli
- setup aws cli in your local enviroment.
```sh
aws configure --profile profile_name
```
## autoscaling group stack
1. Navigate to ec2 folder
2. Do requried changes in provider.tf file according to profile setup in aws cli
3. Copy terraform.tfvars.example to terraform.tfvars file and apply proper varible input
4. Apply bellow command to generating stack.
```sh
terraform init
terraform fmt
```
5. Above command will setup terraform inviroment for your account
6. After this apply bellow command to generate autoscaing group.
```sh
terraform plan
terraform apply
```
## cloudwatch alarm stack
1. Navigate to alarm folder
2. Do requried changes in provider.tf file according to profile setup in aws cli
3. Copy terraform.tfvars.example to terraform.tfvars file and apply proper varible input
4. Apply bellow command to generating stack.
```sh
terraform init
terraform fmt
```
5. Above command will setup terraform inviroment for your account
```sh
terraform plan
```
6. There is might be error occured duing appling stack other then us-east-1 region in alarm because of aws dosen't support reboot on status check failed in anthoer region.
7. After this apply bellow command to generate autoscaing group.
```sh
terraform apply
```

